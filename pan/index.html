<!DOCTYPE html>
<html>

<head>
  <title>文件列表</title>
</head>

<body>
  <h2>文件列表</h2>

  <ul id="fileList"></ul>

  <script>
    // 获取当前目录下文件列表的函数
    function getFileList() {
      var fileList = document.getElementById('fileList');

      // 使用 XMLHttpRequest 对象获取文件信息
      var xhr = new XMLHttpRequest();
      xhr.open('GET', window.location.href, true);

      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
          var files = JSON.parse(xhr.responseText);

          // 遍历文件列表并创建下载链接
          files.forEach(function (file) {
            var li = document.createElement('li');
            var a = document.createElement('a');
            a.href = window.location.href + file;
            a.textContent = file;
            li.appendChild(a);
            fileList.appendChild(li);
          });
        }
      };

      xhr.send();
    }

    // 调用获取文件列表函数
    getFileList();
  </script>
</body>

</html>